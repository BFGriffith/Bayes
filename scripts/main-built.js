/*!
 * jQuery Tools v1.2.6 - The missing UI library for the Web
 * 
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
((function(){function a(b,c,d){if(b===c)return b!==0||1/b==1/c;if(b==null||c==null)return b===c;b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped);if(b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=i.call(b);if(e!=i.call(c))return!1;switch(e){case"[object String]":return b==String(c);case"[object Number]":return b!=+b?c!=+c:b==0?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if(typeof b!="object"||typeof c!="object")return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if(e=="[object Array]"){if(f=b.length,g=f==c.length)for(;f--;)if(!(g=f in b==f in c&&a(b[f],c[f],d)))break}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(v.has(b,h)&&(f++,!(g=v.has(c,h)&&a(b[h],c[h],d))))break;if(g){for(h in c)if(v.has(c,h)&&!(f--))break;g=!f}}return d.pop(),g}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=e.slice,h=e.unshift,i=f.toString,j=f.hasOwnProperty,k=e.forEach,l=e.map,m=e.reduce,n=e.reduceRight,o=e.filter,p=e.every,q=e.some,r=e.indexOf,s=e.lastIndexOf,f=Array.isArray,t=Object.keys,u=Function.prototype.bind,v=function(a){return new C(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.1";var w=v.each=v.forEach=function(a,b,c){if(a!=null)if(k&&a.forEach===k)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(c,a[e],e,a)===d)break}else for(e in a)if(v.has(a,e)&&b.call(c,a[e],e,a)===d)break};v.map=v.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=v.toArray(a).reverse();return d&&!e&&(b=v.bind(b,d)),e?v.reduce(f,b,c,d):v.reduce(f,b)},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},v.filter=v.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return a==null?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,c){var e=!0;return a==null?e:p&&a.every===p?a.every(b,c):(w(a,function(a,f,g){if(!(e=e&&b.call(c,a,f,g)))return d}),e)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,c):(w(a,function(a,f,g){if(e||(e=b.call(c,a,f,g)))return d}),!!e)};v.include=v.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a))return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-Infinity;var d={computed:-Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a))return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return Infinity;var d={computed:Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b=[],c;return w(a,function(a,d){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)}),b},v.sortBy=function(a,b,c){return v.pluck(v.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?a.toArray?a.toArray():v.isArray(a)?g.call(a):v.isArguments(a)?g.call(a):v.values(a):[]},v.size=function(a){return v.toArray(a).length},v.first=v.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},v.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},v.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},v.rest=v.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var c=c?v.map(a,c):a,d=[];return v.reduce(c,function(c,e,f){if(0==f||(b===!0?v.last(c)!=e:!v.include(c,e)))c[c.length]=e,d[d.length]=a[f];return c},[]),d},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=v.flatten(g.call(arguments,1));return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(a==null)return-1;var d;if(c)return c=v.sortedIndex(a,b),a[c]===b?c:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(c=0,d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1},v.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(this instanceof c){y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}return a.apply(b,d.concat(g.call(arguments)))}},v.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h=v.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var i;e||(e=setTimeout(function(){e=null,g&&a.apply(c,d),h()},b)),f?g=!0:a.apply(c,d),h(),f=!0}},v.debounce=function(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){c=null,a.apply(d,e)},b)}},v.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b=[],c;for(c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(v.isArray(a)||v.isString(a))return a.length===0;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!!a&&a.nodeType==1},v.isArray=f||function(a){return i.call(a)=="[object Array]"},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return i.call(a)=="[object Arguments]"},v.isArguments(arguments)||(v.isArguments=function(a){return!!a&&!!v.has(a,"callee")}),v.isFunction=function(a){return i.call(a)=="[object Function]"},v.isString=function(a){return i.call(a)=="[object String]"},v.isNumber=function(a){return i.call(a)=="[object Number]"},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},v.isDate=function(a){return i.call(a)=="[object Date]"},v.isRegExp=function(a){return i.call(a)=="[object RegExp]"},v.isNull=function(a){return a===null},v.isUndefined=function(a){return a===void 0},v.has=function(a,b){return j.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.mixin=function(a){w(v.functions(a),function(b){E(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/.^/,B=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};v.template=function(a,b){var c=v.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||A,function(a,b){return"',_.escape("+B(b)+"),'"}).replace(c.interpolate||A,function(a,b){return"',"+B(b)+",'"}).replace(c.evaluate||A,function(a,b){return"');"+B(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj","_",c);return b?d(b,v):function(a){return d.call(this,a,v)}},v.chain=function(a){return v(a).chain()};var C=function(a){this._wrapped=a};v.prototype=C.prototype;var D=function(a,b){return b?v(a).chain():a},E=function(a,b){C.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),D(b.apply(v,a),this._chain)}};v.mixin(v),w("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=e[a];C.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],D(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];C.prototype[a]=function(){return D(b.apply(this._wrapped,arguments),this._chain)}}),C.prototype.chain=function(){return this._chain=!0,this},C.prototype.value=function(){return this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return v})})).call(this),function(a,b){function c(a,b){var c="less-error-message:"+i(b),d=["<ul>",'<li><label>[-1]</label><pre class="ctx">{0}</pre></li>',"<li><label>[0]</label><pre>{current}</pre></li>",'<li><label>[1]</label><pre class="ctx">{2}</pre></li>',"</ul>"].join("\n"),e=document.createElement("div"),f,g;e.id=c,e.className="less-error-message",g="<h3>"+(a.message||"There is an error in your .less file")+"</h3>"+'<p><a href="'+b+'">'+b+"</a> ",a.extract&&(g+="on line "+a.line+", column "+(a.column+1)+":</p>"+d.replace(/\[(-?\d)\]/g,function(b,c){return parseInt(a.line)+parseInt(c)||""}).replace(/\{(\d)\}/g,function(b,c){return a.extract[parseInt(c)]||""}).replace(/\{current\}/,a.extract[1].slice(0,a.column)+'<span class="error">'+a.extract[1].slice(a.column)+"</span>")),e.innerHTML=g,h([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #ee4444;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.ctx {","color: #dd4444;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),e.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),n.env=="development"&&(f=setInterval(function(){document.body&&(document.getElementById(c)?document.body.replaceChild(e,document.getElementById(c)):document.body.insertBefore(e,document.body.firstChild),clearInterval(f))},10))}function d(a){n.env=="development"&&typeof console!="undefined"&&console.log("less: "+a)}function e(a){return a&&a.parentNode.removeChild(a)}function f(){if(a.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(b){return d("browser doesn't support AJAX."),null}}function g(a,b,c,d){function e(b,c,d){b.status>=200&&b.status<300?c(b.responseText,b.getResponseHeader("Last-Modified")):typeof d=="function"&&d(b.status,a)}var g=f(),h=p?!1:n.async;typeof g.overrideMimeType=="function"&&g.overrideMimeType("text/css"),g.open("GET",a,h),g.setRequestHeader("Accept",b||"text/x-less, text/css; q=0.9, */*; q=0.5"),g.send(null),p?g.status===0?c(g.responseText):d(g.status,a):h?g.onreadystatechange=function(){g.readyState==4&&e(g,c,d)}:e(g,c,d)}function h(a,b,c){var e,f=b.href?b.href.replace(/\?.*$/,""):"",g="less:"+(b.title||i(f));(e=document.getElementById(g))===null&&(e=document.createElement("style"),e.type="text/css",e.media=b.media||"screen",e.id=g,document.getElementsByTagName("head")[0].appendChild(e));if(e.styleSheet)try{e.styleSheet.cssText=a}catch(h){throw new Error("Couldn't reassign styleSheet.cssText.")}else(function(a){e.childNodes.length>0?e.firstChild.nodeValue!==a.nodeValue&&e.replaceChild(a,e.firstChild):e.appendChild(a)})(document.createTextNode(a));c&&q&&(d("saving "+f+" to cache."),q.setItem(f,a),q.setItem(f+":timestamp",c))}function i(a){return a.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\?.*$/,"").replace(/\.[^\.\/]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function j(b,d,f,j){var k=a.location.href.replace(/[#?].*$/,""),l=b.href.replace(/\?.*$/,""),m=q&&q.getItem(l),o=q&&q.getItem(l+":timestamp"),p={css:m,timestamp:o};/^(https?|file):/.test(l)||(l.charAt(0)=="/"?l=a.location.protocol+"//"+a.location.host+l:l=k.slice(0,k.lastIndexOf("/")+1)+l),g(b.href,b.type,function(a,g){if(!f&&p&&g&&(new Date(g)).valueOf()===(new Date(p.timestamp)).valueOf())h(p.css,b),d(null,b,{local:!0,remaining:j});else try{(new n.Parser({optimization:n.optimization,paths:[l.replace(/[\w\.-]+$/,"")],mime:b.type})).parse(a,function(a,f){if(a)return c(a,l);try{d(f,b,{local:!1,lastModified:g,remaining:j}),e(document.getElementById("less-error-message:"+i(l)))}catch(a){c(a,l)}})}catch(k){c(k,l)}},function(a,b){throw new Error("Couldn't load "+b+" ("+a+")")})}function k(a,b){for(var c=0;c<n.sheets.length;c++)j(n.sheets[c],a,b,n.sheets.length-(c+1))}function l(){var a=document.getElementsByTagName("style");for(var b=0;b<a.length;b++)a[b].type.match(t)&&(new n.Parser).parse(a[b].innerHTML||"",function(c,d){a[b].type="text/css",a[b].innerHTML=d.toCSS()})}function m(b){return a.less[b.split("/")[1]]}Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"||a instanceof Array}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c=this.length>>>0;for(var d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)}),Array.prototype.map||(Array.prototype.map=function(a){var b=this.length>>>0,c=Array(b),d=arguments[1];for(var e=0;e<b;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=[],c=arguments[1];for(var d=0;d<this.length;d++)a.call(c,this[d])&&b.push(this[d]);return b}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=this.length>>>0,c=0;if(b===0&&arguments.length===1)throw new TypeError;if(arguments.length>=2)var d=arguments[1];else for(;;){if(c in this){d=this[c++];break}if(++c>=b)throw new TypeError}for(;c<b;c++)c in this&&(d=a.call(null,d,this[c],c,this));return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=arguments[1]||0;if(!b)return-1;if(c>=b)return-1;c<0&&(c+=b);for(;c<b;c++){if(!Object.prototype.hasOwnProperty.call(this,c))continue;if(a===this[c])return c}return-1}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var n,o;typeof a=="undefined"?(n=exports,o=m("less/tree")):(typeof a.less=="undefined"&&(a.less={}),n=a.less,o=a.less.tree={}),n.Parser=function(a){function b(a){return typeof a=="string"?g.charAt(h)===a:a.test(m[i])?!0:!1}function c(a){var b,c,e,f,j,k,l,n;if(a instanceof Function)return a.call(q.parsers);if(typeof a=="string")b=g.charAt(h)===a?a:null,e=1,d();else{d();if(b=a.exec(m[i]))e=b[0].length;else return null}if(b){n=h+=e,k=h+m[i].length-e;while(h<k){f=g.charCodeAt(h);if(f!==32&&f!==10&&f!==9)break;h++}return m[i]=m[i].slice(e+(h-n)),p=h,m[i].length===0&&i<m.length-1&&i++,typeof b=="string"?b:b.length===1?b[0]:b}}function d(){h>p&&(m[i]=m[i].slice(h-p),p=h)}function e(){m[i]=j,h=k,p=h}function f(){j=m[i],k=h,p=h}var g,h,i,j,k,l,m,p,q,r=this,s=function(){},t=this.imports={paths:a&&a.paths||[],queue:[],files:{},mime:a&&a.mime,push:function(b,c){var d=this;this.queue.push(b),n.Parser.importer(b,this.paths,function(a){d.queue.splice(d.queue.indexOf(b),1),d.files[b]=a,c(a),d.queue.length===0&&s()},a)}};return this.env=a=a||{},this.optimization="optimization"in this.env?this.env.optimization:1,this.env.filename=this.env.filename||null,q={imports:t,parse:function(b,d){var e,f,j,k,n,q,r=[],t,u=null;h=i=p=l=0,m=[],g=b.replace(/\r\n/g,"\n"),m=function(b){var c=0,d=/[^"'`\{\}\/\(\)]+/g,e=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,f=0,h,i=b[0],j,k;for(var l=0,m,n;l<g.length;l++){d.lastIndex=l,(h=d.exec(g))&&h.index===l&&(l+=h[0].length,i.push(h[0])),m=g.charAt(l),e.lastIndex=l,!k&&!j&&m==="/"&&(n=g.charAt(l+1),(n==="/"||n==="*")&&(h=e.exec(g))&&h.index===l&&(l+=h[0].length,i.push(h[0]),m=g.charAt(l)));if(m==="{"&&!k&&!j)f++,i.push(m);else if(m==="}"&&!k&&!j)f--,i.push(m),b[++c]=i=[];else if(m==="("&&!k&&!j)i.push(m),j=!0;else if(m===")"&&!k&&j)i.push(m),j=!1;else{if(m==='"'||m==="'"||m==="`")k?k=k===m?!1:k:k=m;i.push(m)}}if(f>0)throw{type:"Syntax",message:"Missing closing `}`",filename:a.filename};return b.map(function(a){return a.join("")})}([[]]),e=new o.Ruleset([],c(this.parsers.primary)),e.root=!0,e.toCSS=function(b){var c,d,e;return function(e,f){function h(a){return a?(g.slice(0,a).match(/\n/g)||"").length:null}var i=[];e=e||{},typeof f=="object"&&!Array.isArray(f)&&(f=Object.keys(f).map(function(a){var b=f[a];return b instanceof o.Value||(b instanceof o.Expression||(b=new o.Expression([b])),b=new o.Value([b])),new o.Rule("@"+a,b,!1,0)}),i=[new o.Ruleset(null,f)]);try{var j=b.call(this,{frames:i}).toCSS([],{compress:e.compress||!1})}catch(k){d=g.split("\n"),c=h(k.index);for(var l=k.index,m=-1;l>=0&&g.charAt(l)!=="\n";l--)m++;throw{type:k.type,message:k.message,filename:a.filename,index:k.index,line:typeof c=="number"?c+1:null,callLine:k.call&&h(k.call)+1,callExtract:d[h(k.call)],stack:k.stack,column:m,extract:[d[c-1],d[c],d[c+1]]}}return e.compress?j.replace(/(\s)+/g,"$1"):j}}(e.eval);if(h<g.length-1){h=l,q=g.split("\n"),n=(g.slice(0,h).match(/\n/g)||"").length+1;for(var v=h,w=-1;v>=0&&g.charAt(v)!=="\n";v--)w++;u={name:"ParseError",message:"Syntax Error on line "+n,index:h,filename:a.filename,line:n,column:w,extract:[q[n-2],q[n-1],q[n]]}}this.imports.queue.length>0?s=function(){d(u,e)}:d(u,e)},parsers:{primary:function(){var a,b=[];while((a=c(this.mixin.definition)||c(this.rule)||c(this.ruleset)||c(this.mixin.call)||c(this.comment)||c(this.directive))||c(/^[\s\n]+/))a&&b.push(a);return b},comment:function(){var a;if(g.charAt(h)==="/"){if(g.charAt(h+1)==="/")return new o.Comment(c(/^\/\/.*/),!0);if(a=c(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))return new o.Comment(a)}},entities:{quoted:function(){var a,b=h,d;g.charAt(b)==="~"&&(b++,d=!0);if(g.charAt(b)==='"'||g.charAt(b)==="'"){d&&c("~");if(a=c(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/))return new o.Quoted(a[0],a[1]||a[2],d)}},keyword:function(){var a;if(a=c(/^[A-Za-z-]+/))return new o.Keyword(a)},call:function(){var a,b,d=h;if(!!(a=/^([\w-]+|%)\(/.exec(m[i]))){a=a[1].toLowerCase();if(a==="url")return null;h+=a.length;if(a==="alpha")return c(this.alpha);c("("),b=c(this.entities.arguments);if(!c(")"))return;if(a)return new o.Call(a,b,d)}},arguments:function(){var a=[],b;while(b=c(this.expression)){a.push(b);if(!c(","))break}return a},literal:function(){return c(this.entities.dimension)||c(this.entities.color)||c(this.entities.quoted)},url:function(){var a;if(g.charAt(h)==="u"&&!!c(/^url\(/)){a=c(this.entities.quoted)||c(this.entities.variable)||c(this.entities.dataURI)||c(/^[-\w%@$\/.&=:;#+?~]+/)||"";if(!c(")"))throw new Error("missing closing ) for url()");return new o.URL(a.value||a.data||a instanceof o.Variable?a:new o.Anonymous(a),t.paths)}},dataURI:function(){var a;if(c(/^data:/)){a={},a.mime=c(/^[^\/]+\/[^,;)]+/)||"",a.charset=c(/^;\s*charset=[^,;)]+/)||"",a.base64=c(/^;\s*base64/)||"",a.data=c(/^,\s*[^)]+/);if(a.data)return a}},variable:function(){var a,b=h;if(g.charAt(h)==="@"&&(a=c(/^@@?[\w-]+/)))return new o.Variable(a,b)},color:function(){var a;if(g.charAt(h)==="#"&&(a=c(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/)))return new o.Color(a[1])},dimension:function(){var a,b=g.charCodeAt(h);if(!(b>57||b<45||b===47))if(a=c(/^(-?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn)?/))return new o.Dimension(a[1],a[2])},javascript:function(){var a,b=h,d;g.charAt(b)==="~"&&(b++,d=!0);if(g.charAt(b)==="`"){d&&c("~");if(a=c(/^`([^`]*)`/))return new o.JavaScript(a[1],h,d)}}},variable:function(){var a;if(g.charAt(h)==="@"&&(a=c(/^(@[\w-]+)\s*:/)))return a[1]},shorthand:function(){var a,d;if(!!b(/^[@\w.%-]+\/[@\w.-]+/)&&(a=c(this.entity))&&c("/")&&(d=c(this.entity)))return new o.Shorthand(a,d)},mixin:{call:function(){var a=[],d,e,f,i=h,j=g.charAt(h);if(j==="."||j==="#"){while(d=c(/^[#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/))a.push(new o.Element(e,d)),e=c(">");c("(")&&(f=c(this.entities.arguments))&&c(")");if(a.length>0&&(c(";")||b("}")))return new o.mixin.Call(a,f,i)}},definition:function(){var a,d=[],e,f,i,j;if(!(g.charAt(h)!=="."&&g.charAt(h)!=="#"||b(/^[^{]*(;|})/)))if(e=c(/^([#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+)\s*\(/)){a=e[1];while(i=c(this.entities.variable)||c(this.entities.literal)||c(this.entities.keyword)){if(i instanceof o.Variable)if(c(":"))if(j=c(this.expression))d.push({name:i.name,value:j});else throw new Error("Expected value");else d.push({name:i.name});else d.push({value:i});if(!c(","))break}if(!c(")"))throw new Error("Expected )");f=c(this.block);if(f)return new o.mixin.Definition(a,d,f)}}},entity:function(){return c(this.entities.literal)||c(this.entities.variable)||c(this.entities.url)||c(this.entities.call)||c(this.entities.keyword)||c(this.entities.javascript)||c(this.comment)},end:function(){return c(";")||b("}")},alpha:function(){var a;if(!!c(/^\(opacity=/i))if(a=c(/^\d+/)||c(this.entities.variable)){if(!c(")"))throw new Error("missing closing ) for alpha()");return new o.Alpha(a)}},element:function(){var a,b,d;d=c(this.combinator),a=c(/^(?:[.#]?|:*)(?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)||c("*")||c(this.attribute)||c(/^\([^)@]+\)/);if(a)return new o.Element(d,a)},combinator:function(){var a,b=g.charAt(h);if(b===">"||b==="&"||b==="+"||b==="~"){h++;while(g.charAt(h)===" ")h++;return new o.Combinator(b)}if(b===":"&&g.charAt(h+1)===":"){h+=2;while(g.charAt(h)===" ")h++;return new o.Combinator("::")}return g.charAt(h-1)===" "?new o.Combinator(" "):new o.Combinator(null)},selector:function(){var a,b,d=[],e,f;while(b=c(this.element)){e=g.charAt(h),d.push(b);if(e==="{"||e==="}"||e===";"||e===",")break}if(d.length>0)return new o.Selector(d)},tag:function(){return c(/^[a-zA-Z][a-zA-Z-]*[0-9]?/)||c("*")},attribute:function(){var a="",b,d,e;if(!!c("[")){if(b=c(/^[a-zA-Z-]+/)||c(this.entities.quoted))(e=c(/^[|~*$^]?=/))&&(d=c(this.entities.quoted)||c(/^[\w-]+/))?a=[b,e,d.toCSS?d.toCSS():d].join(""):a=b;if(!c("]"))return;if(a)return"["+a+"]"}},block:function(){var a;if(c("{")&&(a=c(this.primary))&&c("}"))return a},ruleset:function(){var a=[],b,d,g;f();if(g=/^([.#: \w-]+)[\s\n]*\{/.exec(m[i]))h+=g[0].length-1,a=[new o.Selector([new o.Element(null,g[1])])];else while(b=c(this.selector)){a.push(b),c(this.comment);if(!c(","))break;c(this.comment)}if(a.length>0&&(d=c(this.block)))return new o.Ruleset(a,d);l=h,e()},rule:function(){var a,b,d=g.charAt(h),j,n;f();if(d!=="."&&d!=="#"&&d!=="&")if(a=c(this.variable)||c(this.property)){a.charAt(0)!="@"&&(n=/^([^@+\/'"*`(;{}-]*);/.exec(m[i]))?(h+=n[0].length-1,b=new o.Anonymous(n[1])):a==="font"?b=c(this.font):b=c(this.value),j=c(this.important);if(b&&c(this.end))return new o.Rule(a,b,j,k);l=h,e()}},"import":function(){var a;if(c(/^@import\s+/)&&(a=c(this.entities.quoted)||c(this.entities.url))&&c(";"))return new o.Import(a,t)},directive:function(){var a,b,d,e;if(g.charAt(h)==="@"){if(b=c(this["import"]))return b;if(a=c(/^@media|@page|@-[-a-z]+/)){e=(c(/^[^{]+/)||"").trim();if(d=c(this.block))return new o.Directive(a+" "+e,d)}else if(a=c(/^@[-a-z]+/))if(a==="@font-face"){if(d=c(this.block))return new o.Directive(a,d)}else if((b=c(this.entity))&&c(";"))return new o.Directive(a,b)}},font:function(){var a=[],b=[],d,e,f,g;while(g=c(this.shorthand)||c(this.entity))b.push(g);a.push(new o.Expression(b));if(c(","))while(g=c(this.expression)){a.push(g);if(!c(","))break}return new o.Value(a)},value:function(){var a,b=[],d;while(a=c(this.expression)){b.push(a);if(!c(","))break}if(b.length>0)return new o.Value(b)},important:function(){if(g.charAt(h)==="!")return c(/^! *important/)},sub:function(){var a;if(c("(")&&(a=c(this.expression))&&c(")"))return a},multiplication:function(){var a,b,d,e;if(a=c(this.operand)){while((d=c("/")||c("*"))&&(b=c(this.operand)))e=new o.Operation(d,[e||a,b]);return e||a}},addition:function(){var a,b,d,e;if(a=c(this.multiplication)){while((d=c(/^[-+]\s+/)||g.charAt(h-1)!=" "&&(c("+")||c("-")))&&(b=c(this.multiplication)))e=new o.Operation(d,[e||a,b]);return e||a}},operand:function(){var a,b=g.charAt(h+1);g.charAt(h)==="-"&&(b==="@"||b==="(")&&(a=c("-"));var d=c(this.sub)||c(this.entities.dimension)||c(this.entities.color)||c(this.entities.variable)||c(this.entities.call);return a?new o.Operation("*",[new o.Dimension(-1),d]):d},expression:function(){var a,b,d=[],e;while(a=c(this.addition)||c(this.entity))d.push(a);if(d.length>0)return new o.Expression(d)},property:function(){var a;if(a=c(/^(\*?-?[-a-z_0-9]+)\s*:/))return a[1]}}}},typeof a!="undefined"&&(n.Parser.importer=function(a,b,c,d){a.charAt(0)!=="/"&&b.length>0&&(a=b[0]+a),j({href:a,title:a,type:d.mime},c,!0)}),function(a){function b(a){return Math.min(1,Math.max(0,a))}function c(b){if(b instanceof a.Dimension)return parseFloat(b.unit=="%"?b.value/100:b.value);if(typeof b=="number")return b;throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}function d(b){return a.functions.hsla(b.h,b.s,b.l,b.a)}a.functions={rgb:function(a,b,c){return this.rgba(a,b,c,1)},rgba:function(b,d,e,f){var g=[b,d,e].map(function(a){return c(a)}),f=c(f);return new a.Color(g,f)},hsl:function(a,b,c){return this.hsla(a,b,c,1)},hsla:function(a,b,d,e){function f(a){return a=a<0?a+1:a>1?a-1:a,a*6<1?h+(g-h)*a*6:a*2<1?g:a*3<2?h+(g-h)*(2/3-a)*6:h}a=c(a)%360/360,b=c(b),d=c(d),e=c(e);var g=d<=.5?d*(b+1):d+b-d*b,h=d*2-g;return this.rgba(f(a+1/3)*255,f(a)*255,f(a-1/3)*255,e)},hue:function(b){return new a.Dimension(Math.round(b.toHSL().h))},saturation:function(b){return new a.Dimension(Math.round(b.toHSL().s*100),"%")},lightness:function(b){return new a.Dimension(Math.round(b.toHSL().l*100),"%")},alpha:function(b){return new a.Dimension(b.toHSL().a)},saturate:function(a,c){var e=a.toHSL();return e.s+=c.value/100,e.s=b(e.s),d(e)},desaturate:function(a,c){var e=a.toHSL();return e.s-=c.value/100,e.s=b(e.s),d(e)},lighten:function(a,c){var e=a.toHSL();return e.l+=c.value/100,e.l=b(e.l),d(e)},darken:function(a,c){var e=a.toHSL();return e.l-=c.value/100,e.l=b(e.l),d(e)},fadein:function(a,c){var e=a.toHSL();return e.a+=c.value/100,e.a=b(e.a),d(e)},fadeout:function(a,c){var e=a.toHSL();return e.a-=c.value/100,e.a=b(e.a),d(e)},spin:function(a,b){var c=a.toHSL(),e=(c.h+b.value)%360;return c.h=e<0?360+e:e,d(c)},mix:function(b,c,d){var e=d.value/100,f=e*2-1,g=b.toHSL().a-c.toHSL().a,h=((f*g==-1?f:(f+g)/(1+f*g))+1)/2,i=1-h,j=[b.rgb[0]*h+c.rgb[0]*i,b.rgb[1]*h+c.rgb[1]*i,b.rgb[2]*h+c.rgb[2]*i],k=b.alpha*e+c.alpha*(1-e);return new a.Color(j,k)},greyscale:function(b){return this.desaturate(b,new a.Dimension(100))},e:function(b){return new a.Anonymous(b instanceof a.JavaScript?b.evaluated:b)},escape:function(b){return new a.Anonymous(encodeURI(b.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(b){var c=Array.prototype.slice.call(arguments,1),d=b.value;for(var e=0;e<c.length;e++)d=d.replace(/%[sda]/i,function(a){var b=a.match(/s/i)?c[e].value:c[e].toCSS();return a.match(/[A-Z]$/)?encodeURIComponent(b):b});return d=d.replace(/%%/g,"%"),new a.Quoted('"'+d+'"',d)},round:function(b){if(b instanceof a.Dimension)return new a.Dimension(Math.round(c(b)),b.unit);if(typeof b=="number")return Math.round(b);throw{error:"RuntimeError",message:"math functions take numbers as parameters"}}}}(m("less/tree")),function(a){a.Alpha=function(a){this.value=a},a.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")"},eval:function(a){return this.value.eval&&(this.value=this.value.eval(a)),this}}}(m("less/tree")),function(a){a.Anonymous=function(a){this.value=a.value||a},a.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this}}}(m("less/tree")),function(a){a.Call=function(a,b,c){this.name=a,this.args=b,this.index=c},a.Call.prototype={eval:function(b){var c=this.args.map(function(a){return a.eval(b)});if(!(this.name in a.functions))return new a.Anonymous(this.name+"("+c.map(function(a){return a.toCSS()}).join(", ")+")");try{return a.functions[this.name].apply(a.functions,c)}catch(d){throw{message:"error evaluating function `"+this.name+"`",index:this.index}}},toCSS:function(a){return this.eval(a).toCSS()}}}(m("less/tree")),function(a){a.Color=function(a,b){Array.isArray(a)?this.rgb=a:a.length==6?this.rgb=a.match(/.{2}/g).map(function(a){return parseInt(a,16)}):a.length==8?(this.alpha=parseInt(a.substring(0,2),16)/255,this.rgb=a.substr(2).match(/.{2}/g).map(function(a){return parseInt(a,16)})):this.rgb=a.split("").map(function(a){return parseInt(a+a,16)}),this.alpha=typeof b=="number"?b:1},a.Color.prototype={eval:function(){return this},toCSS:function(){return this.alpha<1?"rgba("+this.rgb.map(function(a){return Math.round(a)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(a){return a=Math.round(a),a=(a>255?255:a<0?0:a).toString(16),a.length===1?"0"+a:a}).join("")},operate:function(b,c){var d=[];c instanceof a.Color||(c=c.toColor());for(var e=0;e<3;e++)d[e]=a.operate(b,this.rgb[e],c.rgb[e]);return new a.Color(d,this.alpha+c.alpha)},toHSL:function(){var a=this.rgb[0]/255,b=this.rgb[1]/255,c=this.rgb[2]/255,d=this.alpha,e=Math.max(a,b,c),f=Math.min(a,b,c),g,h,i=(e+f)/2,j=e-f;if(e===f)g=h=0;else{h=i>.5?j/(2-e-f):j/(e+f);switch(e){case a:g=(b-c)/j+(b<c?6:0);break;case b:g=(c-a)/j+2;break;case c:g=(a-b)/j+4}g/=6}return{h:g*360,s:h,l:i,a:d}}}}(m("less/tree")),function(a){a.Comment=function(a,b){this.value=a,this.silent=!!b},a.Comment.prototype={toCSS:function(a){return a.compress?"":this.value},eval:function(){return this}}}(m("less/tree")),function(a){a.Dimension=function(a,b){this.value=parseFloat(a),this.unit=b||null},a.Dimension.prototype={eval:function(){return this},toColor:function(){return new a.Color([this.value,this.value,this.value])},toCSS:function(){var a=this.value+this.unit;return a},operate:function(b,c){return new a.Dimension(a.operate(b,this.value,c.value),this.unit||c.unit)}}}(m("less/tree")),function(a){a.Directive=function(b,c){this.name=b,Array.isArray(c)?this.ruleset=new a.Ruleset([],c):this.value=c},a.Directive.prototype={toCSS:function(a,b){return this.ruleset?(this.ruleset.root=!0,this.name+(b.compress?"{":" {\n  ")+this.ruleset.toCSS(a,b).trim().replace(/\n/g,"\n  ")+(b.compress?"}":"\n}\n")):this.name+" "+this.value.toCSS()+";\n"},eval:function(a){return a.frames.unshift(this),this.ruleset=this.ruleset&&this.ruleset.eval(a),a.frames.shift(),this},variable:function(b){return a.Ruleset.prototype.variable.call(this.ruleset,b)},find:function(){return a.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return a.Ruleset.prototype.rulesets.apply(this.ruleset)}}}(m("less/tree")),function(a){a.Element=function(b,c){this.combinator=b instanceof a.Combinator?b:new a.Combinator(b),this.value=c.trim()},a.Element.prototype.toCSS=function(a){return this.combinator.toCSS(a||{})+this.value},a.Combinator=function(a){a===" "?this.value=" ":this.value=a?a.trim():""},a.Combinator.prototype.toCSS=function(a){return{"":""," ":" ","&":"",":":" :","::":"::","+":a.compress?"+":" + ","~":a.compress?"~":" ~ ",">":a.compress?">":" > "}[this.value]}}(m("less/tree")),function(a){a.Expression=function(a){this.value=a},a.Expression.prototype={eval:function(b){return this.value.length>1?new a.Expression(this.value.map(function(a){return a.eval(b)})):this.value.length===1?this.value[0].eval(b):this},toCSS:function(a){return this.value.map(function(b){return b.toCSS(a)}).join(" ")}}}(m("less/tree")),function(a){a.Import=function(b,c){var d=this;this._path=b,b instanceof a.Quoted?this.path=/\.(le?|c)ss$/.test(b.value)?b.value:b.value+".less":this.path=b.value.value||b.value,this.css=/css$/.test(this.path),this.css||c.push(this.path,function(a){if(!a)throw new Error("Error parsing "+d.path);d.root=a})},a.Import.prototype={toCSS:function(){return this.css?"@import "+this._path.toCSS()+";\n":""},eval:function(b){var c;if(this.css)return this;c=new a.Ruleset(null,this.root.rules.slice(0));for(var d=0;d<c.rules.length;d++)c.rules[d]instanceof a.Import&&Array.prototype.splice.apply(c.rules,[d,1].concat(c.rules[d].eval(b)));return c.rules}}}(m("less/tree")),function(a){a.JavaScript=function(a,b,c){this.escaped=c,this.expression=a,this.index=b},a.JavaScript.prototype={eval:function(b){var c,d=this,e={},f=this.expression.replace(/@\{([\w-]+)\}/g,function(c,e){return a.jsify((new a.Variable("@"+e,d.index)).eval(b))});try{f=new Function("return ("+f+")")}catch(g){throw{message:"JavaScript evaluation error: `"+f+"`",index:this.index}}for(var h in b.frames[0].variables())e[h.slice(1)]={value:b.frames[0].variables()[h].value,toJS:function(){return this.value.eval(b).toCSS()}};try{c=f.call(e)}catch(g){throw{message:"JavaScript evaluation error: '"+g.name+": "+g.message+"'",index:this.index}}return typeof c=="string"?new a.Quoted('"'+c+'"',c,this.escaped,this.index):Array.isArray(c)?new a.Anonymous(c.join(", ")):new a.Anonymous(c)}}}(m("less/tree")),function(a){a.Keyword=function(a){this.value=a},a.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value}}}(m("less/tree")),function(a){a.mixin={},a.mixin.Call=function(b,c,d){this.selector=new a.Selector(b),this.arguments=c,this.index=d},a.mixin.Call.prototype={eval:function(a){var b,c,d=[],e=!1;for(var f=0;f<a.frames.length;f++)if((b=a.frames[f].find(this.selector)).length>0){c=this.arguments&&this.arguments.map(function(b){return b.eval(a)});for(var g=0;g<b.length;g++)if(b[g].match(c,a))try{Array.prototype.push.apply(d,b[g].eval(a,this.arguments).rules),e=!0}catch(h){throw{message:h.message,index:h.index,stack:h.stack,call:this.index}}if(e)return d;throw{message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+this.arguments.map(function(a){return a.toCSS()}).join(", ")+")`",index:this.index}}throw{message:this.selector.toCSS().trim()+" is undefined",index:this.index}}},a.mixin.Definition=function(b,c,d){this.name=b,this.selectors=[new a.Selector([new a.Element(null,b)])],this.params=c,this.arity=c.length,this.rules=d,this._lookups={},this.required=c.reduce(function(a,b){return!b.name||b.name&&!b.value?a+1:a},0),this.parent=a.Ruleset.prototype,this.frames=[]},a.mixin.Definition.prototype={toCSS:function(){return""},variable:function(a){return this.parent.variable.call(this,a)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},eval:function(b,c){var d=new a.Ruleset(null,[]),e,f=[];for(var g=0,h;g<this.params.length;g++)if(this.params[g].name)if(h=c&&c[g]||this.params[g].value)d.rules.unshift(new a.Rule(this.params[g].name,h.eval(b)));else throw{message:"wrong number of arguments for "+this.name+" ("+c.length+" for "+this.arity+")"};for(var g=0;g<Math.max(this.params.length,c&&c.length);g++)f.push(c[g]||this.params[g].value);return d.rules.unshift(new a.Rule("@arguments",(new a.Expression(f)).eval(b))),(new a.Ruleset(null,this.rules.slice(0))).eval({frames:[this,d].concat(this.frames,b.frames)})},match:function(a,b){var c=a&&a.length||0,d;if(c<this.required)return!1;if(this.required>0&&c>this.params.length)return!1;d=Math.min(c,this.arity);for(var e=0;e<d;e++)if(!this.params[e].name&&a[e].eval(b).toCSS()!=this.params[e].value.eval(b).toCSS())return!1;return!0}}}(m("less/tree")),function(a){a.Operation=function(a,b){this.op=a.trim(),this.operands=b},a.Operation.prototype.eval=function(b){var c=this.operands[0].eval(b),d=this.operands[1].eval(b),e;if(c instanceof a.Dimension&&d instanceof a.Color)if(this.op==="*"||this.op==="+")e=d,d=c,c=e;else throw{name:"OperationError",message:"Can't substract or divide a color from a number"};return c.operate(this.op,d)},a.operate=function(a,b,c){switch(a){case"+":return b+c;case"-":return b-c;case"*":return b*c;case"/":return b/c}}}(m("less/tree")),function(a){a.Quoted=function(a,b,c,d){this.escaped=c,this.value=b||"",this.quote=a.charAt(0),this.index=d},a.Quoted.prototype={toCSS:function(){return this.escaped?this.value:this.quote+this.value+this.quote},eval:function(b){var c=this,d=this.value.replace(/`([^`]+)`/g,function(d,e){return(new a.JavaScript(e,c.index,!0)).eval(b).value}).replace(/@\{([\w-]+)\}/g,function(d,e){var f=(new a.Variable("@"+e,c.index)).eval(b);return f.value||f.toCSS()});return new a.Quoted(this.quote+d+this.quote,d,this.escaped,this.index)}}}(m("less/tree")),function(a){a.Rule=function(b,c,d,e){this.name=b,this.value=c instanceof a.Value?c:new a.Value([c]),this.important=d?" "+d.trim():"",this.index=e,b.charAt(0)==="@"?this.variable=!0:this.variable=!1},a.Rule.prototype.toCSS=function(a){return this.variable?"":this.name+(a.compress?":":": ")+this.value.toCSS(a)+this.important+";"},a.Rule.prototype.eval=function(b){return new a.Rule(this.name,this.value.eval(b),this.important,this.index)},a.Shorthand=function(a,b){this.a=a,this.b=b},a.Shorthand.prototype={toCSS:function(a){return this.a.toCSS(a)+"/"+this.b.toCSS(a)},eval:function(){return this}}}(m("less/tree")),function(a){a.Ruleset=function(a,b){this.selectors=a,this.rules=b,this._lookups={}},a.Ruleset.prototype={eval:function(b){var c=new a.Ruleset(this.selectors,this.rules.slice(0));c.root=this.root,b.frames.unshift(c);if(c.root)for(var d=0;d<c.rules.length;d++)c.rules[d]instanceof a.Import&&Array.prototype.splice.apply(c.rules,[d,1].concat(c.rules[d].eval(b)));for(var d=0;d<c.rules.length;d++)c.rules[d]instanceof a.mixin.Definition&&(c.rules[d].frames=b.frames.slice(0));for(var d=0;d<c.rules.length;d++)c.rules[d]instanceof a.mixin.Call&&Array.prototype.splice.apply(c.rules,[d,1].concat(c.rules[d].eval(b)));for(var d=0,e;d<c.rules.length;d++)e=c.rules[d],e instanceof a.mixin.Definition||(c.rules[d]=e.eval?e.eval(b):e);return b.frames.shift(),c},match:function(a){return!a||a.length===0},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(b,c){return c instanceof a.Rule&&c.variable===!0&&(b[c.name]=c),b},{})},variable:function(a){return this.variables()[a]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(b){return b instanceof a.Ruleset||b instanceof a.mixin.Definition})},find:function(b,c){c=c||this;var d=[],e,f,g=b.toCSS();return g in this._lookups?this._lookups[g]:(this.rulesets().forEach(function(e){if(e!==c)for(var g=0;g<e.selectors.length;g++)if(f=b.match(e.selectors[g])){b.elements.length>1?Array.prototype.push.apply(d,e.find(new a.Selector(b.elements.slice(1)),c)):d.push(e);break}}),this._lookups[g]=d)},toCSS:function(b,c){var d=[],e=[],f=[],g=[],h,i;if(!this.root)if(b.length===0)g=this.selectors.map(function(a){return[a]});else for(var j=0;j<this.selectors.length;j++)for(var k=0;k<b.length;k++)g.push(b[k].concat([this.selectors[j]]));for(var l=0;l<this.rules.length;l++)i=this.rules[l],i.rules||i instanceof a.Directive?f.push(i.toCSS(g,c)):i instanceof a.Comment?i.silent||(this.root?f.push(i.toCSS(c)):e.push(i.toCSS(c))):i.toCSS&&!i.variable?e.push(i.toCSS(c)):i.value&&!i.variable&&e.push(i.value.toString());return f=f.join(""),this.root?d.push(e.join(c.compress?"":"\n")):e.length>0&&(h=g.map(function(a){return a.map(function(a){return a.toCSS(c)}).join("").trim()}).join(c.compress?",":g.length>3?",\n":", "),d.push(h,(c.compress?"{":" {\n  ")+e.join(c.compress?"":"\n  ")+(c.compress?"}":"\n}\n"))),d.push(f),d.join("")+(c.compress?"\n":"")}}}(m("less/tree")),function(a){a.Selector=function(a){this.elements=a,this.elements[0].combinator.value===""&&(this.elements[0].combinator.value=" ")},a.Selector.prototype.match=function(a){return this.elements[0].value===a.elements[0].value?!0:!1},a.Selector.prototype.toCSS=function(a){return this._css?this._css:this._css=this.elements.map(function(b){return typeof b=="string"?" "+b.trim():b.toCSS(a)}).join("")}}(m("less/tree")),function(b){b.URL=function(b,c){b.data?this.attrs=b:(!/^(?:https?:\/|file:\/|data:\/)?\//.test(b.value)&&c.length>0&&typeof a!="undefined"&&(b.value=c[0]+(b.value.charAt(0)==="/"?b.value.slice(1):b.value)),this.value=b,this.paths=c)},b.URL.prototype={toCSS:function(){return"url("+(this.attrs?"data:"+this.attrs.mime+this.attrs.charset+this.attrs.base64+this.attrs.data:this.value.toCSS())+")"},eval:function(a){return this.attrs?this:new b.URL(this.value.eval(a),this.paths)}}}(m("less/tree")),function(a){a.Value=function(a){this.value=a,this.is="value"},a.Value.prototype={eval:function(b){return this.value.length===1?this.value[0].eval(b):new a.Value(this.value.map(function(a){return a.eval(b)}))},toCSS:function(a){return this.value.map(function(b){return b.toCSS(a)}).join(a.compress?",":", ")}}}(m("less/tree")),function(a){a.Variable=function(a,b){this.name=a,this.index=b},a.Variable.prototype={eval:function(b){var c,d,e=this.name;e.indexOf("@@")==0&&(e="@"+(new a.Variable(e.slice(1))).eval(b).value);if(c=a.find(b.frames,function(a){if(d=a.variable(e))return d.value.eval(b)}))return c;throw{message:"variable "+e+" is undefined",index:this.index}}}}(m("less/tree")),m("less/tree").find=function(a,b){for(var c=0,d;c<a.length;c++)if(d=b.call(a,a[c]))return d;return null},m("less/tree").jsify=function(a){return Array.isArray(a.value)&&a.value.length>1?"["+a.value.map(function(a){return a.toCSS(!1)}).join(", ")+"]":a.toCSS(!1)};var p=location.protocol==="file:"||location.protocol==="chrome:"||location.protocol==="chrome-extension:"||location.protocol==="resource:";n.env=n.env||(location.hostname=="127.0.0.1"||location.hostname=="0.0.0.0"||location.hostname=="localhost"||location.port.length>0||p?"development":"production"),n.async=!1,n.poll=n.poll||(p?1e3:1500),n.watch=function(){return this.watchMode=!0},n.unwatch=function(){return this.watchMode=!1},n.env==="development"?(n.optimization=0,/!watch/.test(location.hash)&&n.watch(),n.watchTimer=setInterval(function(){n.watchMode&&k(function(a,b,c){a&&h(a.toCSS(),b,c.lastModified)})},n.poll)):n.optimization=3;var q;try{q=typeof a.localStorage=="undefined"?null:a.localStorage}catch(r){q=null}var s=document.getElementsByTagName("link"),t=/^text\/(x-)?less$/;n.sheets=[];for(var u=0;u<s.length;u++)(s[u].rel==="stylesheet/less"||s[u].rel.match(/stylesheet/)&&s[u].type.match(t))&&n.sheets.push(s[u]);n.refresh=function(a){var b,c;b=c=new Date,k(function(a,e,f){f.local?d("loading "+e.href+" from cache."):(d("parsed "+e.href+" successfully."),h(a.toCSS(),e,f.lastModified)),d("css for "+e.href+" generated in "+(new Date-c)+"ms"),f.remaining===0&&d("css generated in "+(new Date-b)+"ms"),c=new Date},a),l()},n.refreshStyles=l,n.refresh(n.env==="development")}(window),define("../scripts/less-1.1.3.min.js",function(){}),function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!="undefined"&&location.href,e=d&&location.protocol&&location.protocol.replace(/\:/,""),f=d&&location.hostname,g=d&&(location.port||void 0),h=[];define("text",[],function(){var l,m,s;return typeof window!="undefined"&&window.navigator&&window.document?m=function(a,b){var c=l.createXhr();c.open("GET",a,!0),c.onreadystatechange=function(){c.readyState===4&&b(c.responseText)},c.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(s=require.nodeRequire("fs"),m=function(a,b){var c=s.readFileSync(a,"utf8");c.indexOf("﻿")===0&&(c=c.substring(1)),b(c)}):typeof Packages!="undefined"&&(m=function(a,b){var c=new java.io.File(a),d=java.lang.System.getProperty("line.separator"),c=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(c),"utf-8")),e,f,g="";try{e=new java.lang.StringBuffer,(f=c.readLine())&&f.length()&&f.charAt(0)===65279&&(f=f.substring(1));for(e.append(f);(f=c.readLine())!==null;)e.append(d),e.append(f);g=String(e.toString())}finally{c.close()}b(g)}),l={version:"1.0.7",strip:function(a){if(a){var a=a.replace(b,""),d=a.match(c);d&&(a=d[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var b,c,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(c=0;c<3;c++){d=a[c];try{b=new ActiveXObject(d)}catch(e){}if(b){a=[d];break}}if(!b)throw Error("createXhr(): XMLHttpRequest not available");return b},get:m,parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),a=a.substring(c+1,a.length),c=a.indexOf("!");return c!==-1&&(b=a.substring(c+1,a.length),b=b==="strip",a=a.substring(0,c)),{moduleName:d,ext:a,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,d){var e=l.xdRegExp.exec(a),f;return e?(a=e[2],e=e[3],e=e.split(":"),f=e[1],e=e[0],(!a||a===b)&&(!e||e===c)&&(!f&&!e||f===d)):!0},finishLoad:function(a,b,c,d,e){c=b?l.strip(c):c,e.isBuild&&(h[a]=c),d(c)},load:function(a,b,c,h){if(h.isBuild&&!h.inlineText)c();else{var j=l.parseName(a),k=j.moduleName+"."+j.ext,m=b.toUrl(k),n=h&&h.text&&h.text.useXhr||l.useXhr;!d||n(m,e,f,g)?l.get(m,function(b){l.finishLoad(a,j.strip,b,c,h)}):b([k],function(a){l.finishLoad(j.moduleName+"."+j.ext,j.strip,a,c,h)})}},write:function(a,b,c){if(b in h){var d=l.jsEscape(h[b]);c.asModule(a+"!"+b,"define(function () { return '"+d+"';});\n")}},writeFile:function(a,b,c,d,e){var b=l.parseName(b),f=b.moduleName+"."+b.ext,g=c.toUrl(b.moduleName+"."+b.ext)+".js";l.load(f,c,function(){var b=function(a){return d(g,a)};b.asModule=function(a,b){return d.asModule(a,g,b)},l.write(a,f,b,e)},e)}}})}(),define("text!templates/bayes.html",[],function(){return'<div class="bayes">\n\n\t<div class="equation">\n      $$\\mathrm{\\Pr(H \\mid E.b) = \\frac{\\Pr(H \\mid b) \\Pr(E \\mid H.b)}{\\Pr(E \\mid b)}}$$\n    </div>\n\n    <form action="#">\n      <div class="basic hypotheses clearfix">\n        <%= bayes.hypothesis() %>\n      </div>\n      <div class="form_actions clearfix">\n      \t<% if ( bayes.config.afortiori ) { %>\n        <button class="a_fortiori">A fortiori</button>\n        <% } %>\n      </div>\n    </form>\n\n</div>'}),define("text!templates/hypothesis.html",[],function(){return'<fieldset class="hypothesis<%= bayes.config.afortiori ? \' fortiori\' : \'\' %>">\n  <legend>Probability that the hypothesis is true given that the evidence is true and the background evidence</legend>\n  <% _.each(bayes.fields(), function (field) { %>\n  <div class="clearfix field field-<%= field.name %>">\n    <label for="Abbreviated_H.b_<%= num %>" title="<%= field.title %>"><%= _.template(field.label)({num: num}) %></label>\n    <% if (bayes.config.afortiori) { %>\n      <% if (field.type == \'number\') { %>\n        <div class="inputs">\n          <% if (!field.disabled) { %>\n          <input type="range" name="proxy_<%= field.name %>_<%= num %>" id="Proxy_Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <input type="number" <% if (field.hint) { %>title="<%= field.hint %>"<% } %> name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <% } else { %>\n          <span><%= field.val %></span>\n          <input type="hidden" name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <% } %>\n        </div>\n        <div class="inputs">\n          <% if (!field.disabled) { %>\n          <input type="range" name="proxy_<%= field.name %>_<%= num %>" id="Proxy_Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <input type="number" <% if (field.hint) { %>title="<%= field.hint %>"<% } %> name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <% } else { %>\n          <span><%= field.val %></span>\n          <input type="hidden" name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <% } %>\n        </div>\n      <% } else if (field.type == \'checkbox\') { %>\n        <div class="inputs">\n          <input type="checkbox" name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" value="<%= field.val %>" <%= field.checked ? \'checked="checked"\' : \'\' %>/>\n        </div>\n      <% } /* end if */ %>\n    <% } else { %>\n      <div class="inputs">\n        <% if (field.type == \'number\') { %>\n          <% if (!field.disabled) { %>\n          <input type="range" name="proxy_<%= field.name %>_<%= num %>" id="Proxy_Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <input type="number" <% if (field.hint) { %>title="<%= field.hint %>"<% } %> name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <% } else { %>\n          <span><%= field.val %></span>\n          <input type="hidden" name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" min="0" max="1" step="0.01" value="<%= field.val %>"/>\n          <% } %>\n        <% } else if (field.type == \'checkbox\') { %>\n          <input type="checkbox" name="<%= field.name %>_<%= num %>" id="Abbreviated_<%= field.name %>_<%= num %>" value="<%= field.val %>" <%= field.checked ? \'checked="checked"\' : \'\' %>/>\n        <% } /* end if */ %>\n      </div>\n    <% } /* end if */ %>\n  </div>\n  <% }); %>\n</fieldset>'}),define("text!css/bayes.less",[],function(){return'@import "scripts/css/css3.less";\n\n// Styles for bayes app components\n\n.bayes{\n\n\tbox-sizing: border-box;\n\tfont-family: "Times New Roman", Times, serif;\n\tfont-size: 16px;\n\n\t*{\n\t\tbox-sizing: border-box;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t\n\tform{\n\t\tfieldset{\n\t\t\tborder: 0;\n\t\t}\n\t\tlegend{\n\t\t\ttext-shadow: 1px 1px 1px #fff;\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 16px;\n\t\t\tline-height: 24px;\n\t\t\tpadding: 0px 0 20px 0;\n\t\t}\n\t\t.field{\n\t\t\tmargin-bottom: 10px;\n\t\t\tlabel{\n\t\t\t\tfloat: left;\n\t\t\t\twidth: 140px;\n\t\t\t\tline-height: 20px;\n\t\t\t}\n\t\t\tinput[type=number],\n\t\t\tinput[type=text]{\n\t\t\t\theight: 30px;\n\t\t\t\twidth: 120px;\n\t\t\t\t.css3_border_radius(5px);\n\t\t\t}\n\t\t\t.inputs span{\n\t\t\t\tfont-size: 14px;\n\t\t\t\tline-height: 18px;\n\t\t\t}\n\t\t\tinput[type=range]{\n\t\t\t\twidth: 120px;\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t}\n\t\t\t.error{\n\t\t\t\tborder: 2px solid #B02;\n\t\t\t\tbackground-color: #FFEEF1;\n\t\t\t}\n\t\t}\n\t\t.inputs{\n\t\t\tfloat: left;\n\t\t\tmargin-right: 10px;\n\t\t\twidth: 120px;\n\t\t}\n\t\t.hypothesis{\n\t\t\tfloat: left;\n\t\t\tmargin-right: 20px;\n\t\t\t&.fortiori{\n\t\t\t\t.inputs{\n\t\t\t\t\tfloat: left;\n\t\t\t\t\twidth: 55px;\n\t\t\t\t\tinput{\n\t\t\t\t\t\twidth: 55px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.form_actions{\n\t\t\tmargin-top: 20px;\n\t\t}\n\t\tbutton, input[type="submit"]{\n\t\t\tpadding: 0;\n\t\t\tcolor: #000000;\n\t\t\tfont-size: 14px;\n\t\t\tbackground-color: #fff;\n\t\t\tline-height: 30px;\n\t\t\tborder: 1px solid #000;\n\t\t\tmargin-right: 10px;\n\t\t\tpadding: 0 5px;\n\t\t\tfloat: left;\n\t\t\t.css3_border_radius(5px);\n\t\t\t&:hover{\n\t\t\t\tbackground-color: #FF5E99;\n\t\t\t}\n\t\t\t&.remove{\n\t\t\t\tfloat: right;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t.hide{\n\t  display: none;\n\t}\n\n\t.clearfix:before, .clearfix:after { content: "\\0020"; display: block; height: 0; overflow: hidden; }\n\t.clearfix:after { clear: both; }\n\t.clearfix { zoom: 1; }\n\n}\n\n.bayes-tooltip{\n\tbackground-color: #fff;\n\tpadding: 10px;\n\tborder: 1px solid #FF5E99;\n\t.css3_border_radius(4px);\n}'}),function(a){function c(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();g=="center"&&(e+=h/2),g=="bottom"&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();return g=="center"&&(f-=i/2),g=="left"&&(f-=i),{top:e,left:f}}function d(d,e){var f=this,g=d.add(f),h,i=0,j=0,k=d.attr("title"),l=d.attr("data-tooltip"),m=b[e.effect],n,o=d.is(":input"),p=o&&d.is(":checkbox, :radio, select, :button, :submit"),q=d.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!m)throw'Nonexistent effect "'+e.effect+'"';r=r.split(/,\s*/);if(r.length!=2)throw"Tooltip: bad events configuration for "+q;d.bind(r[0],function(a){clearTimeout(i),e.predelay?j=setTimeout(function(){f.show(a)},e.predelay):f.show(a)}).bind(r[1],function(a){clearTimeout(j),e.delay?i=setTimeout(function(){f.hide(a)},e.delay):f.hide(a)}),k&&e.cancelDefault&&(d.removeAttr("title"),d.data("title",k)),a.extend(f,{show:function(b){if(!h){l?h=a(l):e.tip?h=a(e.tip).eq(0):k?h=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(k):(h=d.next(),h.length||(h=d.parent().next()));if(!h.length)throw"Cannot find tooltip for "+d}if(f.isShown())return f;h.stop(!0,!0);var o=c(d,h,e);e.tip&&h.html(d.data("title")),b=a.Event(),b.type="onBeforeShow",g.trigger(b,[o]);if(b.isDefaultPrevented())return f;o=c(d,h,e),h.css({position:"absolute",top:o.top,left:o.left}),n=!0,m[0].call(f,function(){b.type="onShow",n="full",g.trigger(b)});var p=e.events.tooltip.split(/,\s*/);return h.data("__set")||(h.unbind(p[0]).bind(p[0],function(){clearTimeout(i),clearTimeout(j)}),p[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&h.unbind(p[1]).bind(p[1],function(a){a.relatedTarget!=d[0]&&d.trigger(r[1].split(" ")[0])}),e.tip||h.data("__set",!0)),f},hide:function(c){if(!h||!f.isShown())return f;c=a.Event(),c.type="onBeforeHide",g.trigger(c);if(!c.isDefaultPrevented())return n=!1,b[e.effect][1].call(f,function(){c.type="onHide",g.trigger(c)}),f},isShown:function(a){return a?n=="full":n},getConf:function(){return e},getTip:function(){return h},getTrigger:function(){return d}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){return b&&a(f).bind(c,b),f}})}a.tools=a.tools||{version:"v1.2.6"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,d){b[a]=[c,d]}};var b={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;d<1&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};a.fn.tooltip=function(b){var c=this.data("tooltip");return c?c:(b=a.extend(!0,{},a.tools.tooltip.conf,b),typeof b.position=="string"&&(b.position=b.position.split(/,?\s/)),this.each(function(){c=new d(a(this),b),a(this).data("tooltip",c)}),b.api?c:this)}}(jQuery),define("../scripts/jquery.tools.min.js",function(){}),define("bayes",["underscore","../scripts/less-1.1.3.min.js","text!./templates/bayes.html","text!./templates/hypothesis.html","text!./css/bayes.less","../scripts/jquery.tools.min.js"],function(a,b,c,d,e){return MathJax.Hub.Config({displayAlign:"left"}),{config:{type:"simple",selector:!1,el:!1,templates:{bayes:a.template(c),hypothesis:a.template(d)},afortiori:!1,styles:!0,num:1},init:function(b){a.isString(b)?this.config.selector=b:a.extend(this.config,b),this.render()},render:function(){this.config.styles&&this.less(e),this.config.selector?(this.config.el=$(this.config.selector),this.config.el.length?(this.config.el.html(this.template("bayes")),MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.config.el.get(0)]),this.events()):this.error("No configured")):this.error("No configured")},events:function(){var a=this.config.el.find("form"),b=this;a.delegate("input[type=range]","change",function(){b.sync_fields($(this),"number"),b.update_calc()}),a.delegate("input[type=number]","change",function(){b.sync_fields($(this),"range"),b.update_calc()}),a.delegate("label[title],input[title],button[title]","mouseover",function(){var a=$(this);a.data("tooltip")||a.tooltip({position:"center right",tipClass:"bayes-tooltip"}).trigger("mouseover")})},update_calc:function(){var a=this.data();for(var b=1;b<=this.config.num;b++)this.config.el.find(".field-heb .inputs:eq("+(b-1)+") span").text(this.round(this.calculate({eb:a["eb_"+b],ehb:a["ehb_"+b],hb:a["hb_"+b],heb:a["heb_"+b],nhb:a["nhb_"+b],enhb:a["enhb_"+b]}),2))},calculate:function(a){return a.enhb>0?parseFloat(a.hb)*parseFloat(a.ehb)/(parseFloat(a.hb)*parseFloat(a.ehb)+parseFloat(a.nhb)*parseFloat(a.enhb)):parseFloat(a.eb)!=0?parseFloat(a.hb)*parseFloat(a.ehb)/parseFloat(a.eb):0},sync_fields:function(a,b){var c=a.closest(".field"),d=c.siblings(".field"),e=c.find(".inputs"),f=a.closest(".inputs"),g=e.index(f);a.siblings("input[type="+b+"]").val(a.val()),c.hasClass("field-hb")&&d.filter(".field-nhb").find(".inputs:eq("+g+") input").val(1-parseFloat(a.val())),c.hasClass("field-nhb")&&d.filter(".field-hb").find(".inputs:eq("+g+") input").val(1-parseFloat(a.val()))},data:function(){var b={};return a.each(this.config.el.find("form").serializeArray(),function(a){b.hasOwnProperty(a.name)?(b[a.name]=$.makeArray(b[a.name]),b[a.name].push(a.value)):b[a.name]=a.value}),b},fields:function(){switch(this.config.type){case"simple":return[{name:"hb",label:"\\(\\mathrm{\\Pr( H_<%= num %> \\mid b )}\\)",className:"hb",val:.5,title:"Probability that the hypothesis is true given the background evidence",disabled:!1,type:"number"},{name:"nhb",label:"\\(\\mathrm{\\Pr( \\neg{H}_<%= num %> \\mid b )}\\)",className:"nhb",val:.5,title:"Probability that the hypothesis is false given the background evidence",disabled:!1,type:"number"},{name:"ehb",label:"\\(\\mathrm{\\Pr( E \\mid H_<%= num %>.b )}\\)",className:"",val:0,title:"Probability that the evidence is true given that the hypothesis is true and the background evidence",disabled:!1,type:"number"},{name:"eb",label:"\\(\\mathrm{\\Pr( E \\mid b )}\\)",className:"",val:0,title:"Probability that the evidence is true given the background evidence",hint:"Must be greater than 0",disabled:!1,type:"number"},{name:"heb",label:"\\(\\mathrm{\\Pr( H_<%= num %> \\mid E.b )}\\)",className:"",val:0,title:"Probability that the hypothesis is true given that the evidence is true and the background evidence",disabled:!0,type:"number"}];case"full":return[]}},template:function(b,c){return this.config.templates[b]&&this.config.templates[b](a.extend({bayes:this,templates:this.config.templates},c))},hypothesis:function(b){return this.template("hypothesis",a.extend({num:1},b))},round:function(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},less:function(a){(new less.Parser).parse(a,function(a,b){if(a)typeof console!="undefined"&&console.error&&console.error(a);else{var c=document.createElement("style");c.type="text/css",c.textContent=b.toCSS(),document.getElementsByTagName("head")[0].appendChild(c)}})},error:function(a){console.log("Bayes app error: "+a)}}}),require(["bayes"],function(a){$(function(){a.init("#calc")})}),define("main",function(){})